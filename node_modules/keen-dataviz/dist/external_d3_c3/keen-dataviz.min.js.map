{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./lib/utils/each.js","webpack:///./lib/utils/escape-html.js","webpack:///./lib/utils/extend.js","webpack:///./lib/utils/assert-date-string.js","webpack:///./lib/dataset/utils/create-null-list.js","webpack:///./lib/dataset/modifiers/append.js","webpack:///external \"d3\"","webpack:///./lib/utils/strip-html-tags.js","webpack:///./lib/dataset/utils/analyses.js","webpack:///./lib/dataset/index.js","webpack:///./lib/libraries/default/spinner.js","webpack:///./lib/libraries/default/table.js","webpack:///./lib/utils/pretty-number.js","webpack:///./lib/libraries/default/metric.js","webpack:///./lib/libraries/default/message.js","webpack:///./lib/libraries/c3/extensions/tooltip-contents.js","webpack:///./lib/libraries/c3/extensions/paginating-legend.js","webpack:///./lib/libraries/c3/extensions/default-date-format.js","webpack:///./lib/utils/extend-deep.js","webpack:///external \"c3\"","webpack:///./lib/libraries/index.js","webpack:///./lib/data.js","webpack:///./lib/dataset/utils/object.js","webpack:///./lib/dataset/utils/flatten.js","webpack:///./lib/dataset/utils/parsers.js","webpack:///./lib/dataset/modifiers/update.js","webpack:///./lib/dataset/modifiers/sort.js","webpack:///./lib/dataset/modifiers/select.js","webpack:///./lib/dataset/modifiers/insert.js","webpack:///./lib/dataset/modifiers/filter.js","webpack:///./lib/dataset/modifiers/delete.js","webpack:///./lib/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./lib/browser.js"],"names":["root","factory","exports","module","require","define","amd","a","i","window","__WEBPACK_EXTERNAL_MODULE__6__","__WEBPACK_EXTERNAL_MODULE__19__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","each","cb","Array","length","escapeHtml","string","escape","str","match","matchHtmlRegExp","exec","html","index","lastIndex","charCodeAt","substring","extend","target","arguments","prop","testObject","input","getTime","isNaN","testString","test","_typeof","len","list","push","appendColumn","appendRow","_createNullList","_each","self","this","label","slice","undefined","matrix","row","cell","concat","_createNullList2","default","String","newRow","col","selectColumn","stripHtmlTags","inputString","replace","average","arr","start","end","set","sum","val","parseFloat","maximum","nums","Math","max","apply","minimum","min","getColumnAverage","getRowAverage","getColumnSum","getRowSum","getColumnMaximum","getRowMaximum","getColumnMinimum","getRowMinimum","getColumnLabel","getRowIndex","append","del","filter","insert","select","sort","update","_extend","Dataset","meta","type","data","coords","Error","colIndex","indexOf","rowIndex","colResult","rowResult","selectRow","analyses","parser","_parsers2","render","spinner","artifacts","view","_artifacts","height","offsetPadding","prefixes","radius","theme","el","innerHTML","querySelector","style","animationName","interval","setInterval","destroy","clearInterval","e","defaults","width","stickyHeader","stickyFooter","fixedHeader","dataset","offsetHeight","colAligns","colWidths","message","j","bind","_generateTableRows","onscroll","top","scrollTop","prettyNumber","sciNo","Number","toPrecision","prefix","suffixes","abs","recurse","iteration","split","rhs","charAt","numNumerals","_prettyNumber","_escapeHtml","formattedNum","color","colors","title","opts","chartOptions","suffix","parseInt","paddingTop","text","outer","document","createElement","inner","msg","titleContainer","notesContainer","className","notes","appendChild","actualInnerHeight","defaultTitleFormat","defaultValueFormat","bgcolor","nameFormat","titleFormat","valueFormat","config","tooltip_format_name","tooltip_format_title","tooltip_format_value","x","CLASS","tooltip","ratio","id","levelColor","tooltipName","cols","chart","c3","columns","domNode","legendWidth","pagination","hidden","labels","position","range","round","total","_assertDateString2","legendEl","d3","attr","legendItems","paginateElOffset","paginateEl","paginateData","selectAll","remove","legendItemList","enter","isHidden","elementText","node","getBBox","legendItemBox","legendItemCircle","on","focus","tooltipElement","revert","splice","toggle","exit","direction","path_d","element","selection","empty","getSelection","removeAllRanges","resize","_assertDateString","startDate","endDate","timeDiff","Date","months","ms","date","getMonth","getFullYear","getDate","extendDeep","key","lib","timer","delay","fn","onresize","addEventListener","attachEvent","bindResizeListener","clearTimeout","visuals","setTimeout","types","options","DEFAULT_OPTIONS","ENFORCED_OPTIONS","axis","order","legend","show","padding","point","expand","enabled","transition","duration","bindto","pattern","colorMapping","size","_extendDeep","rotated","tick","format","dateFormat","_defaultDateFormat2","culling","stacked","groups","categories","scope","contents","c3TooltipContents","paddedWidth","offsetWidth","setAttribute","generate","c3PaginatingLegend","defineC3","metric","table","response","indexBy","query","selectedParser","parserArgs","metadata","analysis_type","event_collection","filters","group_by","timeframe","timezone","result","steps","display_name","analysis","toUpperCase","getDefaultTitle","visualization","chart_type","getDefaultType","updateColumn","updateRow","_stripHtmlTags","_dataset","valueAtDeepKey","obj","is","flatten","ob","toReturn","flatObject","parsers","_flatten","_object","res","record","grouped-metric","grouped-interval","group","double-grouped-metric","rowLabel","double-grouped-interval","funnel","extraction","_loop","names","keys","iNames","deleteColumn","q","_append","sortColumns","comp","head","analysesUtilMethods","b","op","insertColumn","sortRows","body","_analyses","insertRow","filterColumns","clone","selectedColumn","ri","filterRows","deleteRow","Dataviz","_prepared","_rendered","labelMapping","library","sortGroups","sortIntervals","domReady","readyState","DOMContentLoaded","removeEventListener","testDom","libraries","_libraries2","register","actions","method","find","nodeName","visual","attributes","num","prepare","loader","buildDomWrapper","bool","areachart","barchart","columnchart","linechart","piechart","convertChartTypes","chartType","error","parseRawData","parseRequest","initialize","g","Function","eval","_index","env","global","extendKeenGlobalObject","Keen","KEEN_EXPOSE_AS_GLOBAL_OBJECT"],"mappings":"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","file":"keen-dataviz.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"d3\"), require(\"c3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"d3\", \"c3\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"d3\"), require(\"c3\")) : factory(root[\"d3\"], root[\"c3\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__6__, __WEBPACK_EXTERNAL_MODULE__19__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 33);\n","export function each(o, cb, s) {\n  var n;\n  if (!o) {\n    return 0;\n  }\n  s = !s ? o : s;\n  if (o instanceof Array) {\n    // Indexed arrays, needed for Safari\n    for (n = 0; n < o.length; n++) {\n      if (cb.call(s, o[n], n, o) === false) {\n        return 0;\n      }\n    }\n  } else {\n    // Hashtables\n    for (n in o) {\n      if (o.hasOwnProperty(n)) {\n        if (cb.call(s, o[n], n, o) === false){\n          return 0;\n        }\n      }\n    }\n  }\n  return 1;\n}\n","const matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nexport function escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","export function extend(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    for (var prop in arguments[i]){\n      target[prop] = arguments[i][prop];\n    }\n  }\n  return target;\n}\n","export function testObject(input) {\n  if (input !== null && typeof input.getTime === 'function' && !isNaN(input.getTime())) {\n    return true;\n  }\n  return false;\n}\n\nexport function testString(input) {\n  const ISO_8601 = /^\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(\\.\\d+)?(([+-]\\d\\d:\\d\\d)|Z)?$/i;\n  return ISO_8601.test(input);\n}\n\nexport default function (input) {\n  if (typeof input === 'object') {\n    return testObject(input);\n  } else if (typeof input === 'string') {\n    return testString(input);\n  }\n  return false;\n}\n","export default function (len) {\n  const list = [];\n  for (let i = 0; i < len; i++) {\n    list.push(null);\n  }\n  return list;\n}\n","import createNullList from '../utils/create-null-list';\nimport { each } from '../../utils/each';\n\nexport function appendColumn(str, input) {\n  const self = this;\n  const args = Array.prototype.slice.call(arguments, 2);\n  const label = (str !== undefined) ? str : null;\n\n  if (typeof input === 'function') {\n    self.matrix[0].push(label);\n    each(self.matrix, function(row, i) {\n      let cell;\n      if (i > 0) {\n        cell = input.call(self, row, i);\n        if (typeof cell === 'undefined') {\n          cell = null;\n        }\n        self.matrix[i].push(cell);\n      }\n    });\n  }\n\n  else if (!input || input instanceof Array) {\n    input = input || [];\n\n    if (input.length <= self.matrix.length - 1) {\n      input = input.concat(createNullList(self.matrix.length - 1 - input.length));\n    }\n    else {\n      // If this new column is longer than existing columns,\n      // we need to update the rest to match ...\n      each(input, function(value, i){\n        if (self.matrix.length -1 < input.length) {\n          appendRow.call(self, String(self.matrix.length));\n        }\n      });\n    }\n\n    self.matrix[0].push(label);\n    each(input, function(value, i){\n      self.matrix[i+1][self.matrix[0].length-1] = value;\n    });\n\n  }\n\n  return self;\n}\n\nexport function appendRow(str, input) {\n  const self = this;\n  const args = Array.prototype.slice.call(arguments, 2);\n  const label = (str !== undefined) ? str : null;\n  const newRow = [];\n\n  newRow.push(label);\n\n  if (typeof input === 'function') {\n    each(self.matrix[0], function(label, i){\n      let col;\n      let cell;\n      if (i > 0) {\n        col = self.selectColumn(i);\n        cell = input.call(self, col, i);\n        if (typeof cell === 'undefined') {\n          cell = null;\n        }\n        newRow.push(cell);\n      }\n    });\n    self.matrix.push(newRow);\n  }\n\n  else if (!input || input instanceof Array) {\n    input = input || [];\n\n    if (input.length <= self.matrix[0].length - 1) {\n      input = input.concat( createNullList( self.matrix[0].length - 1 - input.length ) );\n    }\n    else {\n      each(input, function(value, i){\n        if (self.matrix[0].length -1 < input.length) {\n          appendColumn.call(self, String( self.matrix[0].length));\n        }\n      });\n    }\n\n    self.matrix.push(newRow.concat(input));\n  }\n\n  return self;\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","/**\n * Strip html tags from string\n *\n * @param  {string} string The string to strip\n * @return {string}\n * @public\n */\n\nexport function stripHtmlTags(inputString) {\n  return inputString.replace(/(<([^>]+)>)/ig, '');\n}\n","import { each } from '../../utils/each';\nimport { extend } from '../../utils/extend';\n\nfunction average(arr, start, end){\n  var set = arr.slice(start||0, (end ? end+1 : arr.length)),\n      sum = 0,\n      avg = null;\n\n  // Add numeric values\n  each(set, function(val, i){\n    if (typeof val === 'number' && !isNaN(parseFloat(val))) {\n      sum += parseFloat(val);\n    }\n  });\n  return sum / set.length;\n}\n\nfunction maximum(arr, start, end){\n  var set = arr.slice(start||0, (end ? end+1 : arr.length)),\n      nums = [];\n\n  // Pull numeric values\n  each(set, function(val, i){\n    if (typeof val === 'number' && !isNaN(parseFloat(val))) {\n      nums.push(parseFloat(val));\n    }\n  });\n  return Math.max.apply(Math, nums);\n}\n\nfunction minimum(arr, start, end){\n  var set = arr.slice(start||0, (end ? end+1 : arr.length)),\n      nums = [];\n\n  // Pull numeric values\n  each(set, function(val, i){\n    if (typeof val === 'number' && !isNaN(parseFloat(val))) {\n      nums.push(parseFloat(val));\n    }\n  });\n  return Math.min.apply(Math, nums);\n}\n\nfunction sum(arr, start, end){\n  // Copy set with given range\n  var set = arr.slice(start||0, (end ? end+1 : arr.length)),\n      sum = 0;\n\n  // Add numeric values\n  each(set, function(val, i){\n    if (typeof val === 'number' && !isNaN(parseFloat(val))) {\n      sum += parseFloat(val);\n    }\n  });\n  return sum;\n}\n\nconst getColumnAverage = function (arr) {\n  return average(arr, 1);\n};\nconst getRowAverage = getColumnAverage;\n\nconst getColumnSum = function (arr) {\n  return sum(arr, 1);\n};\nconst getRowSum = getColumnSum;\n\nconst getColumnMaximum = function (arr) {\n  return maximum(arr, 1);\n};\nconst getRowMaximum = getColumnMaximum;\n\nconst getColumnMinimum = function (arr) {\n  return minimum(arr, 1);\n};\nconst getRowMinimum = getColumnMinimum;\n\nconst getColumnLabel = function (arr) {\n  return arr[0];\n};\nconst getRowIndex = getColumnLabel;\n\nexport default {\n  average,\n  maximum,\n  minimum,\n  sum,\n  getColumnAverage,\n  getRowAverage,\n  getColumnSum,\n  getRowSum,\n  getColumnMaximum,\n  getRowMaximum,\n  getColumnMinimum,\n  getRowMinimum,\n  getColumnLabel,\n  getRowIndex,\n};\n","// Modifiers\nimport * as append from './modifiers/append';\nimport * as del from './modifiers/delete';\nimport * as filter from './modifiers/filter';\nimport * as insert from './modifiers/insert';\nimport * as select from './modifiers/select';\nimport * as sort from './modifiers/sort';\nimport * as update from './modifiers/update';\n\n// Utils\nimport analyses from './utils/analyses';\nimport { extend } from '../utils/extend';\nimport parsers from './utils/parsers';\n\nexport const Dataset = function () {\n  if (this instanceof Dataset === false) {\n    return new Dataset();\n  }\n\n  this.matrix = [\n    ['Index']\n  ];\n  this.meta = {\n    type: undefined\n  };\n}\n\nDataset.prototype.data = function (arr) {\n  if (!arguments.length) return this.matrix;\n  this.matrix = (arr instanceof Array ? arr : null);\n  return this;\n};\n\nDataset.prototype.set = function (coords, value) {\n  if (arguments.length < 2 || coords.length < 2) {\n    throw Error('Incorrect arguments provided for #set method');\n  }\n\n  var colIndex = 'number' === typeof coords[0] ? coords[0] : this.matrix[0].indexOf(coords[0]),\n      rowIndex = 'number' === typeof coords[1] ? coords[1] : select.selectColumn.call(this, 0).indexOf(coords[1]);\n\n  var colResult = select.selectColumn.call(this, coords[0]),\n      rowResult = select.selectRow.call(this, coords[1]);\n\n  // Column doesn't exist, create and reset colIndex\n  if (colResult.length < 1) {\n    append.appendColumn.call(this, String(coords[0]));\n    colIndex = this.matrix[0].length - 1;\n  }\n\n  // Row doesn't exist, create and reset rowIndex\n  if (rowResult.length < 1) {\n    append.appendRow.call(this, String(coords[1]));\n    rowIndex = this.matrix.length - 1;\n  }\n\n  // Set provided value\n  this.matrix[ rowIndex ][ colIndex ] = value;\n  return this;\n};\n\nDataset.prototype.type = function(str){\n  if (!arguments.length) return this.meta['type'];\n  this.meta['type'] = (str ? String(str) : undefined);\n  return this;\n};\n\nextend(Dataset.prototype, append);\nextend(Dataset.prototype, del);\nextend(Dataset.prototype, filter);\nextend(Dataset.prototype, insert);\nextend(Dataset.prototype, select);\nextend(Dataset.prototype, sort);\nextend(Dataset.prototype, update);\nextend(Dataset.prototype, analyses);\nDataset.parser = parsers(Dataset);\n\nexport default Dataset;\n","export default {\n  render: function(){\n    var html = '',\n        artifacts = this.view._artifacts.spinner = {},\n        height = this.height() || 35,\n        offsetPadding = (height - 35) / 2,\n        prefixes = ['webkit', 'Moz', 'ms', 'O'],\n        radius = this.view._artifacts.radius = 0,\n        spinner;\n\n    // Build DOM element\n    html += '<div class=\"' + this.theme() + '\">';\n    html +=   '<div class=\"keen-spinner-container\" style=\"height: ' + height + 'px; padding-top: ' + offsetPadding + 'px;\">';\n    html +=     '<div class=\"keen-spinner-indicator\"></div>';\n    html +=   '</div>';\n    html += '</div>';\n    this.el().innerHTML = html;\n\n    spinner = this.el().querySelector('.keen-spinner-indicator');\n    if (spinner.style.animationName === undefined) {\n      radius = 0;\n      artifacts.interval = setInterval(function(){\n        radius = (radius === 350) ? 0 : radius + 10;\n        for (var i = 0; i < prefixes.length; i++) {\n          spinner.style[prefixes[i]] = 'rotate(' + artifacts.radius + 'deg)';\n        }\n      }, 15);\n    }\n  },\n  update: function(){\n    // no special update handling\n    this.render();\n  },\n  destroy: function(){\n    if (this.view._artifacts.spinner) {\n      if (this.view._artifacts.spinner.interval) {\n        clearInterval(this.view._artifacts.spinner.interval);\n      }\n      this.view._artifacts.spinner.radius = 0;\n      try {\n        delete this.view._artifacts.spinner;\n      }\n      catch (e) {\n        this.view._artifacts.spinner = undefined;\n      }\n    }\n    this.el().innerHTML = '';\n  }\n};\n","import { each } from '../../utils/each';\n\nconst defaults = {\n  height: undefined,\n  width: undefined,\n  stickyHeader: true,\n  stickyFooter: false\n};\n\nfunction _generateTableRows(dataset, colWidths, colAligns) {\n  var html = '';\n  for (var i = 0; i < dataset.length; i++) {\n    if (i > 0) {\n      html +=   '<tr>';\n      for (var j = 0; j < dataset[i].length; j++) {\n        html +=   '<td style=\"min-width: '+ (10 * colWidths[j]) +'px; text-align: ' + colAligns[j] + ';\">' + dataset[i][j] + '</td>';\n      }\n      html +=   '</tr>';\n    }\n  }\n  return html;\n}\n\nexport default {\n  render: function(){\n    var dataset = this.data(),\n        el = this.el(),\n        height = (this.height() || defaults.height) - this.el().offsetHeight,\n        theme = this.theme(),\n        width = this.width() || defaults.width;\n\n    var html = '',\n        colAligns = new Array(dataset[0].length),\n        colWidths = new Array(dataset[0].length),\n        fixedHeader;\n\n    var isEmpty = dataset.length === 1 && dataset[0].length === 0;\n    if (isEmpty) {\n      this.message('No data to display');\n      return;\n    }\n\n    // Calculate max column widths\n    each(dataset, function(row){\n      each(row, function(cell, i){\n        if (!colWidths[i]) {\n          colWidths[i] = 0;\n        }\n        colAligns[i] = (typeof cell === 'number') ? 'right' : 'left';\n        colWidths[i] = (String(cell).length > colWidths[i]) ? String(cell).length : colWidths[i];\n      });\n    });\n\n    // Open wrapper\n    html += '<div class=\"' + theme + '-table\" style=\"height: '+(height ? height+'px' : 'auto')+'; width: '+(width ? width+'px' : 'auto')+';\">';\n\n    // Static, scrollable table\n    html +=   '<table class=\"' + theme + '-table-dataset\">';\n    html +=     '<thead>';\n    html +=       '<tr>';\n    for (var i = 0; i < dataset[0].length; i++) {\n      html +=       '<th style=\"width: '+ (10 * colWidths[i]) +'px; text-align: ' + colAligns[i] + ';\">' + dataset[0][i] + '</th>';\n    }\n    html +=       '</tr>';\n    html +=     '</thead>';\n    // Table data\n    html +=     '<tbody>';\n    html +=     _generateTableRows.bind(this, dataset, colWidths, colAligns)();\n    html +=     '</tbody>';\n    html +=   '</table>';\n\n    // Fixed table (header)\n    html +=   '<table class=\"' + theme + '-table-fixed-header\">';\n    html +=     '<thead>';\n    html +=       '<tr>';\n    for (var i = 0; i < dataset[0].length; i++) {\n      html +=       '<th style=\"min-width: '+ (10 * colWidths[i]) +'px; text-align: ' + colAligns[i] + ';\">' + dataset[0][i] + '</th>';\n    }\n    html +=       '</tr>';\n    html +=     '</thead>';\n    html +=   '</table>';\n\n    // Close wrapper\n    html += '</div>';\n\n    // Inject HTML string\n    el.querySelector('.' + theme + '-rendering').innerHTML = html;\n\n    fixedHeader = el.querySelector('.' + theme + '-table-fixed-header');\n    el.querySelector('.' + theme + '-table').onscroll = function(e){\n      fixedHeader.style.top = e.target.scrollTop + 'px';\n    };\n  },\n  update: function(){\n    // no special update handling\n    this.render();\n  },\n  destroy: function(){\n    var el = this.el().querySelector('.' + this.theme() + '-table')\n    if (el && el.onscroll) {\n      el.onscroll = undefined;\n    }\n  }\n};\n","export function prettyNumber(input) {\n  // If it has 3 or fewer sig figs already, just return the number.\n  var input = Number(input),\n      sciNo = input.toPrecision(3),\n      prefix = '',\n      suffixes = ['', 'k', 'M', 'B', 'T'];\n\n  if (Number(sciNo) == input && String(input).length <= 4) {\n    return String(input);\n  }\n\n  if (Math.abs(input) >= 1000000000000000) {\n    return sciNo;\n  }\n\n  if (input >= 1 || input <= -1) {\n    if (input < 0){\n      //Pull off the negative side and stash that.\n      input = -input;\n      prefix = '-';\n    }\n    return prefix + recurse(input, 0);\n  }\n  else {\n    return input.toPrecision(3);\n  }\n\n  function recurse(input, iteration) {\n    var input = String(input);\n    var split = input.split('.');\n    // If there's a dot\n    if (split.length > 1) {\n      // Keep the left hand side only\n      input = split[0];\n      var rhs = split[1];\n      // If the left-hand side is too short, pad until it has 3 digits\n      if (input.length == 2 && rhs.length > 0) {\n        // Pad with right-hand side if possible\n        if (rhs.length > 0) {\n          input = input + '.' + rhs.charAt(0);\n        }\n        // Pad with zeroes if you must\n        else {\n          input += '0';\n        }\n      }\n      else if (input.length == 1 && rhs.length > 0) {\n        input = input + '.' + rhs.charAt(0);\n        // Pad with right-hand side if possible\n        if (rhs.length > 1) {\n          input += rhs.charAt(1);\n        }\n        // Pad with zeroes if you must\n        else {\n          input += '0';\n        }\n      }\n    }\n    var numNumerals = input.length;\n    // if it has a period, then numNumerals is 1 smaller than the string length:\n    if (input.split('.').length > 1) {\n      numNumerals--;\n    }\n    if (numNumerals <= 3) {\n      return String(input) + suffixes[iteration];\n    }\n    else {\n      return recurse(Number(input) / 1000, iteration + 1);\n    }\n  }\n}\n","import { prettyNumber } from '../../utils/pretty-number';\nimport { escapeHtml } from '../../utils/escape-html';\n\nexport default {\n  render: function(){\n    var color = this.colors()[0],\n        theme = this.theme(),\n        title = this.title(),\n        value = '-',\n        height = this.height() || 140,\n        width = this.width(),\n        opts = this.chartOptions(),\n        html = '',\n        prefix = '',\n        suffix = '',\n        formattedNum,\n        valueEl;\n\n    if (typeof this.data()[1][1] === 'number') {\n      value = this.data()[1][1];\n    }\n\n    formattedNum = value;\n    if ( (typeof opts['prettyNumber'] === 'undefined' || opts['prettyNumber'] === true)\n      && !isNaN(parseInt(value)) ) {\n        formattedNum = prettyNumber(value);\n    }\n\n    if (opts['prefix']) {\n      prefix = '<span class=\"' + theme + '-metric-prefix\">' + opts['prefix'] + '</span>';\n    }\n    if (opts['suffix']) {\n      suffix = '<span class=\"' + theme + '-metric-suffix\">' + opts['suffix'] + '</span>';\n    }\n\n    html += '<div class=\"' + theme + '\">';\n    html +=   '<div class=\"' + theme + '-metric\" style=\"background-color: ' + color + '; width: ' + (width ? width + 'px' : 'auto') + ';\" title=\"' + escapeHtml(value) + '\">';\n    html +=     '<span class=\"' + theme + '-metric-value\">' + prefix + escapeHtml(formattedNum) + suffix + '</span>';\n    if (title) {\n      html +=   '<span class=\"' + theme + '-metric-title\">' + escapeHtml(title) + '</span>';\n    }\n    html +=   '</div>';\n    html += '</div>';\n\n    this.el().innerHTML = html;\n    valueEl = this.el().querySelector('.' + theme + '-metric-value');\n    valueEl.style.paddingTop = ((height - this.el().offsetHeight) / 2) + 'px';\n    this.el().querySelector('.' + theme + '-metric').style.height = height + 'px';\n  },\n  update: function(){\n    // no special update handling\n    this.render();\n  },\n  destroy: function(){\n    // no special clean-up\n  }\n};\n","import { escapeHtml } from '../../utils/escape-html';\n\nexport default {\n  render: function(text){\n    var outer = document.createElement('div');\n    var inner = document.createElement('div');\n    var msg = document.createElement('span');\n    var height = this.height() || 140;\n\n    var titleContainer = document.createElement('div');\n    var notesContainer = document.createElement('div');\n\n    outer.className = this.theme();\n    inner.className = this.theme() + '-message';\n    inner.style.width = this.width() + 'px';\n\n    // Create title and notes for message\n    titleContainer.className = this.theme() + '-title';\n    titleContainer.innerHTML = escapeHtml(this.title() || '');\n    notesContainer.className = this.theme() + '-notes';\n    notesContainer.innerHTML = escapeHtml(this.notes() || '');\n\n    msg.innerHTML = escapeHtml(text) || '';\n    inner.appendChild(msg);\n    outer.appendChild(titleContainer);\n    outer.appendChild(inner);\n    outer.appendChild(notesContainer);\n\n    this.el().innerHTML = '';\n    this.el().appendChild(outer);\n\n    var actualInnerHeight = height - titleContainer.offsetHeight - notesContainer.offsetHeight;\n    inner.style.height = actualInnerHeight + 'px';\n    inner.style.paddingTop = (actualInnerHeight / 2 - 12) + 'px';\n  },\n  update: function(){\n    // no special update handling\n    this.render();\n  },\n  destroy: function(){\n    // no special clean-up\n  }\n};\n","import { escapeHtml } from '../../../utils/escape-html';\n\nexport default function (d, defaultTitleFormat, defaultValueFormat, color) {\n  var bgcolor,\n      name,\n      nameFormat,\n      text,\n      title,\n      titleFormat,\n      value,\n      valueFormat;\n\n  // Set config options or defaults\n  nameFormat = this.config.tooltip_format_name || function (name) { return name; };\n  titleFormat = this.config.tooltip_format_title || defaultTitleFormat;\n  valueFormat = this.config.tooltip_format_value || defaultValueFormat;\n\n  // Reverse list to match legend\n  for (var i = 0; i < d.length; i++) {\n    if (! (d[i] && (d[i].value || d[i].value === 0))) { continue; }\n    if (! text) {\n      title = titleFormat ? titleFormat(d[i].x) : d[i].x;\n      text = \"<table class='\" + this.CLASS.tooltip + \"'>\" + (title || title === 0 ? \"<tr><th colspan='2'>\" + escapeHtml(title) + \"</th></tr>\" : \"\");\n    }\n    name = nameFormat(d[i].name);\n    value = valueFormat(d[i].value, d[i].ratio, d[i].id, d[i].index);\n    bgcolor = this.levelColor ? this.levelColor(d[i].value) : color(d[i].id);\n    if (value) {\n      text += \"<tr class='\" + this.CLASS.tooltipName + \"-\" + d[i].id + \"'>\";\n      text +=   \"<td class='name'><span style='background-color:\" + bgcolor + \"'></span>\" + escapeHtml(name) + \"</td>\";\n      text +=   \"<td class='value'>\" + escapeHtml(value) + \"</td>\";\n      text += \"</tr>\";\n    }\n  }\n  return text + \"</table>\";\n}\n","import * as d3 from 'd3';\n\nimport isDateString from '../../../utils/assert-date-string';\n/* eslint-disable */\nexport default function (cols) {\n  var self = this,\n      chart = this.view._artifacts.c3,\n      columns = [],\n      domNode = this.el().querySelector('.' + this.theme() + '-rendering'),\n      legendWidth = 120;\n\n  var pagination = this.view._artifacts.pagination = {\n    hidden: [],\n    labels: [],\n    position: 0,\n    range: Math.round((domNode.offsetHeight - 78) / 20),\n    total: 0\n  };\n\n  // Reduce threshold for donut/pie charts\n  if (this.type() === 'donut' || this.type() === 'pie') {\n    pagination.range = pagination.range >= 5 ? 5 : pagination.range;\n  }\n\n  for (var i = 0; i < cols.length; i++) {\n    if (cols[i][0] !== 'x' && !isDateString(cols[i][1])) {\n      columns.push(cols[i][0]);\n    }\n  }\n\n  var legendEl = d3.select(domNode)\n    .append('svg');\n    legendEl.attr('class', 'keen-c3-legend');\n    legendEl.attr('height', domNode.offsetHeight - 10);\n    legendEl.attr('width', legendWidth);\n    legendEl.style('right', -legendWidth + 'px');\n    legendEl.style('top', '10px');\n\n  var legendItems = legendEl\n    .append('g');\n    legendItems.attr('class', 'keen-c3-legend-items');\n\n  var paginateElOffset = 20 * pagination.range;\n  var paginateEl = legendEl\n    .append('g');\n  paginateEl.attr('class', 'keen-c3-legend-pagination');\n  paginateEl.attr('transform', function(){\n    return 'translate(2, ' + paginateElOffset + ')'\n  });\n\n  paginateData();\n\n  function paginateData(){\n    pagination.labels = columns.slice(pagination.position, pagination.position + pagination.range);\n    pagination.total = columns.length;\n    renderLegendComponent.call(self, pagination.labels);\n    if (pagination.total > pagination.range) {\n      renderPaginationComponent.call(self);\n    }\n    chart.resize();\n  }\n\n  function renderLegendComponent(){\n    legendItems\n      .selectAll('g')\n      .remove();\n\n    var legendItemList = legendItems\n      .selectAll('g')\n      .data(pagination.labels);\n\n    legendItemList.enter()\n        .append('g')\n        .attr('transform', function(id, i){\n          return 'translate(0, ' + (20 * i) + ')'\n        })\n      .attr('data-id', function (id) { return id; })\n      .style('opacity', function(id){\n        var isHidden = pagination.hidden.indexOf(id);\n        return isHidden < 0 ? 1 : .35;\n      })\n      .each(function (id) {\n        var elementText = d3.select(this)\n          .append('text');\n\n          elementText.attr('font-size', 12);\n          elementText.attr('pointer-events', 'none');\n          elementText.attr('x', 15);\n          elementText.attr('y', 9);\n          elementText.text(id);\n          elementText.text(function(id){\n            if (d3.select(this).node().getBBox().width > 105) {\n              return id.length <= 15 ? id : id.substring(0, 12) + '...';\n            }\n            else {\n              return id;\n            }\n          });\n        var legendItemBox = d3.select(this)\n          .append('rect');\n          legendItemBox.attr('height', 14);\n          legendItemBox.attr('width', 110);\n          legendItemBox.attr('x', 0);\n          legendItemBox.attr('y', 0);\n          legendItemBox.style('cursor', 'pointer');\n          legendItemBox.style('fill-opacity', 0);\n        var legendItemCircle = d3.select(this)\n          .append('rect');\n          legendItemCircle.attr('fill', chart.color(id));\n          legendItemCircle.attr('height', 10);\n          legendItemCircle.attr('pointer-events', 'none');\n          legendItemCircle.attr('rx', 5);\n          legendItemCircle.attr('ry', 5);\n          legendItemCircle.attr('width', 10);\n          legendItemCircle.attr('x', 0);\n          legendItemCircle.attr('y', 0 );\n      })\n      .on('mouseover', function (id, i) {\n          chart.focus(id);\n          // show a tooltip overlay w/ full value\n          if (id.length > 15) {\n            var tooltipElement = d3.select(domNode)\n              .append('div');\n              tooltipElement.attr('class', 'keen-c3-legend-label-overlay');\n              tooltipElement.style('max-width', '75%');\n              tooltipElement.style('right', -legendWidth + 'px');\n              tooltipElement.style('top', (15 + (i+1) * 20) + 'px');\n              tooltipElement.html(id);\n              tooltipElement.append('div')\n                .attr('class', 'keen-c3-legend-label-overlay-pointer');\n          }\n      })\n      .on('mouseout', function (id) {\n        chart.revert();\n        // clear out the tooltip overlay\n        d3.select(self.el().querySelector('.' + self.theme() + '-rendering .keen-c3-legend-label-overlay'))\n          .remove();\n      })\n      .on('click', function (id) {\n        d3.select(this).style('opacity', function(){\n          var isHidden = pagination.hidden.indexOf(id);\n          if (isHidden < 0) {\n            pagination.hidden.push(id);\n            return .35;\n          }\n          else {\n            pagination.hidden.splice(isHidden, 1);\n            return 1;\n          }\n        });\n        chart.toggle(id);\n      });\n\n    legendItemList.exit().remove();\n  }\n\n  function renderPaginationComponent(){\n    paginateEl\n      .selectAll('g')\n      .remove();\n\n    paginateEl\n        .selectAll('g')\n        .data([\n          { direction: 'reverse', path_d: 'M0 10 L10 0 L20 10 Z' },\n          { direction: 'forward', path_d: 'M0 0 L10 10 L20 0 Z' }\n        ])\n        .enter()\n        .append('g')\n        .attr('transform', function(id, i){\n          return 'translate(' + (i * 20) + ', 0)'\n        })\n        .each(function(id){\n          var element = d3.select(this)\n            .append('path');\n\n            element.attr('d', function(d){\n              return d.path_d;\n            });\n            element.style('cursor', 'pointer');\n            element.style('fill', '#D7D7D7');\n            element.style('stroke', 'none');\n            element.on('mouseover', function (id) {\n              d3.select(this).style('fill', '#4D4D4D');\n            });\n            element.on('mouseout', function (id) {\n              d3.select(this).style('fill', '#D7D7D7');\n            });\n            element.on('click', function (d) {\n              if (d.direction === 'forward') {\n                if (pagination.position + pagination.range < pagination.total) {\n                  pagination.position = pagination.position + pagination.range;\n                }\n              }\n              else {\n                if (pagination.position - pagination.range >= 0) {\n                  pagination.position = pagination.position - pagination.range;\n                }\n              }\n              paginateData();\n              clearSelectedText();\n            });\n        });\n  }\n\n  function clearSelectedText() {\n    var selection;\n    if (document.selection && document.selection.empty) {\n      selection = document.selection;\n      selection.empty();\n    }\n    else if (window.getSelection) {\n      selection = window.getSelection();\n      selection.removeAllRanges();\n    }\n  }\n}\n","export default function (startDate, endDate) {\n  var timeDiff = Math.abs(new Date(startDate).getTime() - new Date(endDate).getTime());\n  var months = [\n    'Jan',\n    'Feb',\n    'Mar',\n    'Apr',\n    'May',\n    'June',\n    'July',\n    'Aug',\n    'Sept',\n    'Oct',\n    'Nov',\n    'Dec'\n  ];\n\n  // Yearly (31536000000) + Monthly\n  if (timeDiff >= 2419200000) {\n    return function(ms){\n      var date = new Date(ms);\n      return months[date.getMonth()] + ' ' + date.getFullYear();\n    };\n  }\n  // Daily\n  else if (timeDiff >= 86400000) {\n    return function(ms){\n      var date = new Date(ms);\n      return months[date.getMonth()] + ' ' + date.getDate();\n    };\n  }\n  // Hourly\n  else if (timeDiff >= 3600000) {\n    return '%I:%M %p';\n  }\n  // Minutely\n  else {\n    return '%I:%M:%S %p';\n  }\n}\n","import { each } from './each';\n\nexport function extendDeep(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    each(arguments[i], function(prop, key){\n      if (( typeof target[key] !== 'undefined' && typeof prop !== 'undefined' ) &&\n          ( typeof target[key] === 'object'    && typeof prop === 'object' ) &&\n          ( target[key] !== null               && prop !== null )) {\n            extendDeep(target[key], prop);\n      }\n      else {\n        target[key] = prop;\n      }\n    });\n  }\n  return target;\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__19__;","import c3 from 'c3';\nimport d3 from 'd3';\n\nimport { each } from '../utils/each';\nimport { extend } from '../utils/extend';\nimport { extendDeep } from '../utils/extend-deep';\nimport isDateString from '../utils/assert-date-string';\nimport c3DefaultDateFormat from './c3/extensions/default-date-format';\nimport c3PaginatingLegend from './c3/extensions/paginating-legend';\nimport c3TooltipContents from './c3/extensions/tooltip-contents';\n\nimport message from './default/message';\nimport metric from './default/metric';\nimport table from './default/table';\nimport spinner from './default/spinner';\n\nconst types = {\n  message,\n  metric,\n  table,\n  spinner,\n};\n\nexport default function(lib) {\n  var timer, delay;\n  bindResizeListener(function(){\n    if (timer) {\n      clearTimeout(timer);\n    }\n    delay = (lib.visuals.length > 12) ? 1000 : 250;\n    timer = setTimeout(function(){\n      each(lib.visuals, function(chart){\n        if (chart.view._artifacts.c3) {\n          chart.view._artifacts.c3.resize();\n        }\n      });\n    }, delay);\n  });\n\n  defineC3();\n  return types;\n};\n\nfunction defineC3(){\n  var c3Types = [\n    // Standard types\n    'area',\n    'area-spline',\n    'area-step',\n    'bar',\n    'donut',\n    'gauge',\n    'line',\n    'pie',\n    'step',\n    'spline',\n\n    // Horizontal variant types\n    'horizontal-area',\n    'horizontal-area-spline',\n    'horizontal-area-step',\n    'horizontal-bar',\n    'horizontal-line',\n    'horizontal-step',\n    'horizontal-spline'\n  ];\n\n  function getDefaultOptions(){\n    var DEFAULT_OPTIONS,\n        ENFORCED_OPTIONS,\n        options;\n\n    DEFAULT_OPTIONS = {\n      axis: {},\n      color: {},\n      data: {\n        order: null\n      },\n      legend: {\n        position: 'right',\n        show: true\n      },\n      padding: {},\n      point: {\n        focus: {\n          expand: {\n            enabled: false\n          }\n        },\n        r: 2,\n        show: true\n      },\n      tooltip: {},\n      transition: {\n        duration: 0\n      }\n    };\n\n    ENFORCED_OPTIONS = {\n      bindto: this.el().querySelector('.' + this.theme() + '-rendering'),\n      color: {\n        pattern: this.colors()\n      },\n      data: {\n        colors: extend({}, this.colorMapping()),\n        columns: [],\n        type: this.type().replace('horizontal-', '')\n      },\n      size: {\n        height: this.height() ? this.height() - this.el().offsetHeight : 400,\n        width: this.width()\n      },\n      tooltip: {}\n    };\n\n    // Apply chartOptions\n    options = extendDeep({}, DEFAULT_OPTIONS, this.chartOptions());\n\n    // Apply enforced options\n    options = extendDeep(options, ENFORCED_OPTIONS);\n    options.color.pattern = ENFORCED_OPTIONS.color.pattern;\n    options.data.colors = ENFORCED_OPTIONS.data.colors;\n    options.data.columns = ENFORCED_OPTIONS.data.columns;\n\n    return options;\n  }\n\n  each(c3Types, function(type, index) {\n    types[type] = {\n      render: function(){\n        var options = getDefaultOptions.call(this);\n\n        if (this.data()[0].length === 1 || this.data().length === 1) {\n          this.message('No data to display');\n          return;\n        }\n\n        if (type === 'gauge') {\n          // Accommodate a neat bug:\n          options.legend.position = 'bottom';\n          options.data.columns = [[\n            this.title() || this.data()[1][0],\n            this.data()[1][1]\n          ]];\n        }\n        else if (type === 'pie' || type === 'donut') {\n          options.data.columns = this.data().slice(1);\n        }\n        else {\n\n          // Apply formatting for horizontal variant types\n          if (type.indexOf('horizontal-') > -1) {\n            options.axis.rotated = type.indexOf('horizontal-') > -1;\n          }\n\n          if (isDateString(this.data()[1][0])) {\n            // TIMESERIES\n            options.axis.x = options.axis.x || {};\n            options.axis.x.type = 'timeseries';\n            options.axis.x.tick = options.axis.x.tick || {\n              format: this.dateFormat() || c3DefaultDateFormat(this.data()[1][0], this.data()[2] ? this.data()[2][0] : this.data()[1][0]),\n              culling: { max: 5 }\n            };\n\n            options.data.columns[0] = [];\n            each(this.dataset.selectColumn(0), function(cell, i){\n              if (i > 0) {\n                cell = new Date(cell);\n              }\n              options.data.columns[0][i] = cell;\n            });\n            options.data.columns[0][0] = 'x';\n            options.data.x = 'x';\n            if (this.stacked() && this.data()[0].length > 2) {\n              options.data.groups = [ this.dataset.selectRow(0).slice(1) ];\n            }\n          }\n          else {\n            // CATEGORIES\n            options.axis.x = options.axis.x || {};\n            options.axis.x.type = 'category';\n            options.axis.x.categories = this.dataset.selectColumn(0).slice(1);\n            if (this.stacked() && this.data()[0].length > 2) {\n              options.data.groups = [ this.dataset.selectRow(0).slice(1) ];\n            }\n          }\n\n          if (this.data()[0].length === 2) {\n            options.legend.show = false;\n          }\n\n          each(this.data()[0], function(cell, i){\n            if (i > 0) {\n              options.data.columns.push(this.dataset.selectColumn(i));\n            }\n          }.bind(this));\n\n        }\n\n        if (options.legend.show === true\n          && options.legend.position === 'right'\n            && ['gauge'].indexOf(type.replace('horizontal-', ''))) {\n\n                // Apply custom color handling\n                options.data.color = c3CustomDataMapping.bind(this);\n\n                // Apply custom tooltip\n                options.tooltip = {\n                  contents: c3TooltipContents,\n                  format: {\n                    value: c3CustomTooltipFiltering.bind(this)\n                  }\n                };\n\n                options.legend.show = false;\n                var paddedWidth = this.el().querySelector('.' + this.theme() + '-rendering').offsetWidth - 100;\n                options.size.width = options.size.width || paddedWidth;\n                this.el().querySelector('.' + this.theme() + '-rendering').setAttribute('style', 'margin-right: 120px;');\n\n                // Render artifacts\n                this.view._artifacts['c3'] = c3.generate(options);\n                c3PaginatingLegend.call(this, options.data.columns);\n        }\n        else {\n          options.legend.show = false;\n          this.view._artifacts['c3'] = c3.generate(options);\n        }\n\n      },\n      update: function(){\n        // no special update handling\n        this.render();\n      },\n      destroy: function(){\n        if (this.view._artifacts['c3']) {\n          this.view._artifacts['c3'].destroy();\n          this.view._artifacts['c3'] = null;\n        }\n      }\n    };\n  });\n}\n\nfunction c3CustomDataMapping(color, d) {\n  var scope;\n  if (this.view._artifacts.pagination\n    && this.type() !== 'gauge'\n      /*&& this.type() !== 'pie'\n        && this.type() !== 'donut'*/) {\n          scope = this.view._artifacts.pagination.labels;\n          if ((d.id && scope.indexOf(d.id) > -1)\n            || (d && !d.id && scope.indexOf(d) > -1)) {\n              return color;\n          }\n          else {\n            if (this.type() === 'donut' || this.type() === 'pie') {\n              return 'rgba(0,0,0,.1)';\n            }\n            else {\n              return 'rgba(0,0,0,.07)';\n            }\n          }\n  }\n  else {\n    return color;\n  }\n}\n\nfunction c3CustomTooltipFiltering(value, ratio, id, index) {\n  var scope;\n  if (this.view._artifacts.pagination\n    && this.type() !== 'gauge'\n      /*&& this.type() !== 'pie'\n        && this.type() !== 'donut'*/) {\n          scope = this.view._artifacts.pagination.labels;\n          if (scope.indexOf(id) > -1) {\n            return value;\n          }\n  }\n  else {\n    return value;\n  }\n}\n\nfunction bindResizeListener(fn){\n  if ('undefined' === typeof window) return;\n  window.onresize = window.resize = function(){};\n  if (window.addEventListener) {\n    window.addEventListener('resize', fn, true);\n  }\n  else if (window.attachEvent) {\n    window.attachEvent('onresize', fn);\n  }\n}\n","import Dataset from './dataset';\nimport { extend } from './utils/extend';\nimport { stripHtmlTags } from './utils/strip-html-tags';\n\nexport default function (data) {\n  if (!arguments.length) return this.dataset.data();\n  if (data instanceof Dataset) {\n    this.dataset = data;\n    return this;\n  }\n  else {\n    return parseResponse.call(this, data);\n  }\n};\n\nfunction parseResponse(response) {\n  var dataset,\n      indexBy,\n      meta,\n      parser,\n      parserArgs = [],\n      query,\n      selectedParser,\n      title,\n      type;\n\n  indexBy = this.indexBy() ? this.indexBy() : 'timestamp.start';\n  meta = response.metadata || {};\n  query = (typeof response.query !== 'undefined') ? response.query : {};\n\n  // Ensure all required params are present\n  query = extend({\n    analysis_type: null,\n    event_collection: null,\n    filters: [],\n    group_by: null,\n    interval: null,\n    timeframe: null,\n    timezone: null\n  }, query);\n\n  if (query.analysis_type === 'funnel') {\n    parser = 'funnel';\n  }\n  else if (query.analysis_type === 'extraction'){\n    parser = 'extraction';\n  }\n  else if (query.analysis_type === 'select_unique') {\n    if (!query.group_by && !query.interval) {\n      parser = 'list';\n    }\n    // else { Not supported }\n  }\n  else if (query.analysis_type) {\n    if (!query.group_by && !query.interval) {\n      parser = 'metric';\n    }\n    else if (query.group_by && !query.interval) {\n      if (query.group_by instanceof Array && query.group_by.length > 1) {\n        parser = 'double-grouped-metric';\n        parserArgs.push(query.group_by);\n      }\n      else {\n        parser = 'grouped-metric';\n      }\n    }\n    else if (query.interval && !query.group_by) {\n      parser = 'interval';\n      parserArgs.push(indexBy);\n    }\n    else if (query.group_by && query.interval) {\n      if (query.group_by instanceof Array && query.group_by.length > 1) {\n        parser = 'double-grouped-interval';\n        parserArgs.push(query.group_by);\n        parserArgs.push(indexBy);\n      }\n      else {\n        parser = 'grouped-interval';\n        parserArgs.push(indexBy);\n      }\n    }\n  }\n\n  if (!parser) {\n\n    // Metric\n    // -------------------------------\n    if (typeof response.result === 'number'){\n      parser = 'metric';\n    }\n\n    // Everything else\n    // -------------------------------\n    if (response.result instanceof Array && response.result.length > 0){\n\n      // Interval w/ single value\n      // -------------------------------\n      if (response.result[0].timeframe && (typeof response.result[0].value == 'number' || response.result[0].value == null)) {\n        parser = 'interval';\n        parserArgs.push(indexBy)\n      }\n\n      // Static GroupBy\n      // -------------------------------\n      if (typeof response.result[0].result == 'number'){\n        parser = 'grouped-metric';\n      }\n\n      // Grouped Interval\n      // -------------------------------\n      if (response.result[0].value instanceof Array){\n        parser = 'grouped-interval';\n        parserArgs.push(indexBy)\n      }\n\n      // Funnel\n      // -------------------------------\n      if (typeof response.result[0] === 'number'\n        && typeof response.steps !== 'undefined'){\n          parser = 'funnel';\n          // Move steps into query object\n          query.steps = response.steps;\n      }\n\n      // Select Unique\n      // -------------------------------\n      if ((typeof response.result[0] === 'string' || typeof response.result[0] == 'number') && typeof response.steps === 'undefined'){\n        parser = 'list';\n      }\n\n      // Extraction\n      // -------------------------------\n      if (!parser) {\n        parser = 'extraction';\n      }\n    }\n  }\n\n  // Set title from saved query body, or create a default title\n  if (!this.title()) {\n    if (meta.display_name) {\n      title = meta.display_name;\n    }\n    else {\n      title = getDefaultTitle(query);\n    }\n    this.title(title);\n  }\n\n  // Set type from saved query body, or use a default type\n  if (!this.type()) {\n    if (meta.visualization && meta.visualization.chart_type) {\n      type = meta.visualization.chart_type;\n    }\n    else {\n      type = getDefaultType(parser);\n    }\n    this.type(type);\n  }\n\n  // Define the appropriate parser\n  selectedParser = Dataset.parser.apply(this, [parser].concat(parserArgs));\n\n  // Parse the response with augmented query body\n  dataset = selectedParser(extend(response, { 'query': query }));\n\n  // Set true dates for 'interval' data\n  if (parser.indexOf('interval') > -1) {\n    dataset.updateColumn(0, function(value, i){\n      return new Date(value);\n    });\n  }\n\n  dataset.updateRow(0, function(value, i){\n    return stripHtmlTags(value);\n  });\n\n  this.dataset = dataset;\n\n  return this;\n}\n\nfunction getDefaultTitle(query) {\n  var analysis = query.analysis_type ? query.analysis_type.replace('_', ' ') : '',\n      title;\n\n  title = analysis.replace( /\\b./g, function(a){\n    return a.toUpperCase();\n  });\n\n  if (query.event_collection) {\n    title += ' - ' + query.event_collection;\n  }\n  return title;\n}\n\nfunction getDefaultType(parser) {\n  let type;\n  switch (parser) {\n    case 'metric':\n      type = 'metric';\n      break;\n    case 'interval':\n      type = 'area';\n      break;\n    case 'grouped-metric':\n    case 'double-grouped-metric':\n      type = 'bar';\n      break;\n    case 'grouped-interval':\n    case 'double-grouped-interval':\n      type = 'line';\n      break;\n    case 'funnel':\n      type = 'horizontal-bar';\n      break;\n    case 'list':\n    case 'extraction':\n    default:\n      type = 'table';\n  }\n  return type;\n}\n","export function valueAtDeepKey(obj, is, value) {\n  if (typeof is == 'string')\n    return valueAtDeepKey(obj, is.split('.'), value);\n  else if (is.length==1 && value!==undefined && obj !== null &&\n    typeof obj[is[0]] !== 'undefined')\n    return obj[is[0]] = value;\n  else if (is.length==0)\n    return obj;\n  else if (typeof is === 'undefined' || typeof obj === 'undefined'\n    || is === null || obj === null\n    || typeof obj[is[0]] === 'undefined')\n    return null;\n  else\n    return valueAtDeepKey(obj[is[0]], is.slice(1), value);\n}\n","// Pure awesomeness by Will Rayner (penguinboy)\n// https://gist.github.com/penguinboy/762197\n\nexport function flatten(ob){\n  var toReturn = {};\n  for (var i in ob) {\n    if (!ob.hasOwnProperty(i)) continue;\n    if ((typeof ob[i]) == 'object' && ob[i] !== null) {\n      var flatObject = flatten(ob[i]);\n      for (var x in flatObject) {\n        if (!flatObject.hasOwnProperty(x)) continue;\n        toReturn[i + '.' + x] = flatObject[x];\n      }\n    } else {\n      toReturn[i] = ob[i];\n    }\n  }\n  return toReturn;\n};\n","let Dataset; /* injected */\n\nimport { each } from '../../utils/each';\nimport { flatten } from '../utils/flatten';\nimport { valueAtDeepKey } from '../utils/object';\n\nexport default function initialize(lib){\n  Dataset = lib;\n  return function(name){\n    var options = Array.prototype.slice.call(arguments, 1);\n\n    if (!parsers[name]) {\n      throw 'Requested parser does not exist';\n    }\n    else {\n      return parsers[name].apply(this, options);\n    }\n  };\n}\n\nfunction parseMetric(){\n  return function(res){\n    return new Dataset()\n      .set(['Value', 'Result'], res.result)\n      .type('metric');\n  }\n}\n\n//var myParser = Dataset.parser('interval', 'timeframe.end');\nfunction parseInterval(){\n  var options = Array.prototype.slice.call(arguments);\n  return function(res){\n    var dataset = new Dataset()\n      .type('interval');\n    each(res.result, function(record, i){\n      var index = options[0] && options[0] === 'timeframe.end' ? record.timeframe.end : record.timeframe.start;\n      dataset.set(['Result', index], record.value);\n    });\n    return dataset;\n  }\n}\n\nfunction parseGroupedMetric(){\n  return function(res){\n    var dataset = new Dataset()\n      .type('grouped-metric');\n    each(res.result, function(record, i){\n      var label;\n      each(record, function(value, key){\n        if (key !== 'result') {\n          label = key;\n        }\n      });\n      dataset.set(['Result', String(record[label])], record.result);\n    });\n    return dataset;\n  }\n}\n\n//var myParser = Dataset.parser('grouped-interval', 'timeframe.end');\nfunction parseGroupedInterval(){\n  var options = Array.prototype.slice.call(arguments);\n  return function(res){\n    var dataset = new Dataset()\n      .type('grouped-interval');\n    each(res.result, function(record, i){\n      var index = options[0] && options[0] === 'timeframe.end' ? record.timeframe.end : record.timeframe.start;\n      if (record.value.length) {\n        each(record.value, function(group, j){\n          var label;\n          each(group, function(value, key){\n            if (key !== 'result') {\n              label = key;\n            }\n          });\n          dataset.set([ String(group[label]), index ], group.result);\n        });\n      }\n      else {\n        dataset.appendRow(index);\n      }\n    });\n    return dataset;\n  }\n}\n\n//var myParser = Dataset.parser('double-grouped-metric', ['first', 'second']);\nfunction parseDoubleGroupedMetric(){\n  var options = Array.prototype.slice.call(arguments);\n  if (!options[0]) throw 'Requested parser requires a sequential list (array) of properties to target as a second argument';\n  return function(res){\n    var dataset = new Dataset()\n      .type('double-grouped-metric');\n    each(res.result, function(record, i){\n      var rowLabel = record[options[0][0]] + ' ' + record[options[0][1]];\n      dataset.set([ 'Result', rowLabel ], record.result);\n    });\n    return dataset;\n  }\n}\n\n//var myParser = Dataset.parser('double-grouped-interval', ['first', 'second'], 'timeframe.end');\nfunction parseDoubleGroupedInterval(){\n  var options = Array.prototype.slice.call(arguments);\n  if (!options[0]) throw 'Requested parser requires a sequential list (array) of properties to target as a second argument';\n  return function(res){\n    var dataset = new Dataset()\n      .type('double-grouped-interval');\n    each(res.result, function(record, i){\n      var index = options[1] && options[1] === 'timeframe.end' ? record.timeframe.end : record.timeframe.start;\n      each(record['value'], function(value, j){\n        var label = value[options[0][0]] + ' ' + value[options[0][1]];\n        dataset.set([ label, index ], value.result);\n      });\n    });\n    return dataset;\n  }\n}\n\nfunction parseFunnel(){\n  return function(res){\n    var result, steps, dataset;\n    if (typeof res.steps !== 'undefined'\n        && typeof res.result !== 'undefined'\n          && res.result instanceof Array) {\n            // Ad-hoc funnel response\n            result = res.result;\n            steps = res.steps;\n    }\n    else if (typeof res.result.steps !== 'undefined'\n        && typeof res.result.result !== 'undefined'\n          && res.result.result instanceof Array) {\n            // Saved funnel response\n            result = res.result.result;\n            steps = res.result.steps;\n    }\n    dataset = new Dataset().type('funnel');\n    dataset.appendColumn('Step Value');\n    each(result, function(value, i){\n      if (typeof steps !== 'undefined' && steps[i]) {\n        dataset.appendRow(String(steps[i].event_collection), [value]);\n      }\n    });\n    return dataset;\n  }\n}\n\nfunction parseList(){\n  return function(res){\n    var dataset = new Dataset()\n      .type('list');\n    each(res.result, function(value, i){\n      dataset.set( [ 'Result', String(i+1) ], value );\n    });\n    return dataset;\n  }\n}\n\nfunction parseExtraction(){\n  return function(res){\n    var dataset = new Dataset()\n      .type('extraction');\n    // create header\n    for (let i=0; i<1; i++){\n      let record = res.result[i];\n      each(flatten(record), function(value, key){\n        dataset.set([ key, String(i+1) ], value);\n      });\n    }\n\n    // get keys of the Object\n    const names = Object.keys(flatten(res.result[0]));\n\n    for (let i=1; i<res.result.length; i++){\n      let record = [i+1];\n      for (let iNames=0; iNames<names.length; iNames++){\n        record.push(valueAtDeepKey(res.result[i], names[iNames]));\n      }\n      dataset.matrix[String(i+1)] = record;\n    }\n\n    dataset.deleteColumn(0);\n    return dataset;\n  }\n}\n\n// Parser definitions\nconst parsers = {\n  metric: parseMetric,\n  interval: parseInterval,\n  'grouped-metric': parseGroupedMetric,\n  'grouped-interval': parseGroupedInterval,\n  'double-grouped-metric': parseDoubleGroupedMetric,\n  'double-grouped-interval': parseDoubleGroupedInterval,\n  funnel: parseFunnel,\n  list: parseList,\n  extraction: parseExtraction,\n};\n","import { each } from '../../utils/each';\nimport createNullList from '../utils/create-null-list';\nimport { appendRow, appendColumn } from './append';\n\nexport function updateColumn(q, input) {\n  var self = this,\n      index = (typeof q === 'number') ? q : this.matrix[0].indexOf(q);\n\n  if (index > -1) {\n\n    if (typeof input === 'function') {\n\n      each(self.data(), function(row, i){\n        var cell;\n        if (i > 0) {\n          cell = input.call(self, row[index], i, row);\n          if (typeof cell !== 'undefined') {\n            self.matrix[i][index] = cell;\n          }\n        }\n      });\n\n    } else if (!input || input instanceof Array) {\n      input = input || [];\n\n      if (input.length <= self.data().length - 1) {\n        input = input.concat( createNullList(self.data().length - 1 - input.length) );\n      }\n      else {\n        // If this new column is longer than existing columns,\n        // we need to update the rest to match ...\n        each(input, function(value, i){\n          if (self.matrix.length -1 < input.length) {\n            appendRow.call(self, String( self.matrix.length ));\n          }\n        });\n      }\n\n      each(input, function(value, i){\n        self.matrix[i+1][index] = value;\n      });\n\n    }\n\n  }\n  return self;\n}\n\nexport function updateRow(q, input){\n  var self = this,\n      index = (typeof q === 'number') ? q : this.selectColumn(0).indexOf(q);\n\n  if (index > -1) {\n\n    if (typeof input === 'function') {\n\n      each(self.data()[index], function(value, i){\n        var col = self.selectColumn(i),\n        cell = input.call(self, value, i, col);\n        if (typeof cell !== 'undefined') {\n          self.matrix[index][i] = cell;\n        }\n      });\n\n    } else if (!input || input instanceof Array) {\n      input = input || [];\n\n      if (input.length <= self.matrix[0].length - 1) {\n        input = input.concat( createNullList( self.matrix[0].length - 1 - input.length ) );\n      }\n      else {\n        each(input, function(value, i){\n          if (self.matrix[0].length -1 < input.length) {\n            appendColumn.call(self, String( self.matrix[0].length ));\n          }\n        });\n      }\n\n      each(input, function(value, i){\n        self.matrix[index][i+1] = value;\n      });\n    }\n\n  }\n  return self;\n}\n","import { each } from '../../utils/each';\nimport analysesUtilMethods from '../utils/analyses';\n\nexport function sortColumns(str, comp) {\n  var self = this,\n      head = this.matrix[0].slice(1), // minus index\n      cols = [],\n      clone = [],\n      fn = comp || analysesUtilMethods.getColumnLabel;\n\n  // Isolate each column (except the index)\n  each(head, function(cell, i) {\n    cols.push(self.selectColumn(i+1).slice(0));\n  });\n  cols.sort(function(a,b){\n    // If fn(a) > fn(b)\n    var op = fn.call(self, a) > fn.call(self, b);\n    if (op) {\n      return (str === 'asc' ? 1 : -1);\n    } else if (!op) {\n      return (str === 'asc' ? -1 : 1);\n    } else {\n      return 0;\n    }\n  });\n  each(cols, function(col, i) {\n    self\n      .deleteColumn(i+1)\n      .insertColumn(i+1, col[0], col.slice(1));\n  });\n  return self;\n}\n\nexport function sortRows(str, comp) {\n  var self = this,\n      head = this.matrix.slice(0,1),\n      body = this.matrix.slice(1),\n      fn = comp || analysesUtilMethods.getRowIndex;\n  body.sort(function(a, b){\n    // If fn(a) > fn(b)\n    var op = fn.call(self, a) > fn.call(self, b);\n    if (op) {\n      return (str === 'asc' ? 1 : -1);\n    } else if (!op) {\n      return (str === 'asc' ? -1 : 1);\n    } else {\n      return 0;\n    }\n  });\n  self.data(head.concat(body));\n  return self;\n}\n","import { each } from '../../utils/each';\n\nexport function selectColumn(q) {\n  const result = [];\n  const index = (typeof q === 'number') ? q : this.matrix[0].indexOf(q);\n\n  if (index > -1 && typeof this.matrix[0][index] !== 'undefined') {\n    each(this.matrix, function(row, i) {\n      result.push(row[index]);\n    });\n  }\n  return result;\n}\n\nexport function selectRow(q) {\n  let result = [];\n  const index = (typeof q === 'number') ? q : this.selectColumn(0).indexOf(q);\n\n  if (index > -1 && typeof this.matrix[index] !== 'undefined') {\n    result = this.matrix[index];\n  }\n  return result;\n}\n","import { each } from '../../utils/each';\nimport createNullList from '../utils/create-null-list';\nimport { appendRow, appendColumn } from './append';\n\nexport function insertColumn(index, str, input) {\n  const self = this;\n  const label = (str !== undefined) ? str : null;\n\n  if (typeof input === 'function') {\n\n    self.matrix[0].splice(index, 0, label);\n    each(self.matrix, function(row, i) {\n      var cell;\n      if (i > 0) {\n        cell = input.call(self, row, i);\n        if (typeof cell === 'undefined') {\n          cell = null;\n        }\n        self.matrix[i].splice(index, 0, cell);\n      }\n    });\n\n  }\n\n  else if (!input || input instanceof Array) {\n    input = input || [];\n\n    if (input.length <= self.matrix.length - 1) {\n      input = input.concat( createNullList(self.matrix.length - 1 - input.length) );\n    }\n    else {\n      // If this new column is longer than existing columns,\n      // we need to update the rest to match ...\n      each(input, function(value, i){\n        if (self.matrix.length -1 < input.length) {\n          appendRow.call(self, String( self.matrix.length ));\n        }\n      });\n    }\n\n    self.matrix[0].splice(index, 0, label);\n    each(input, function(value, i){\n      self.matrix[i+1].splice(index, 0, value);\n    });\n\n  }\n  return self;\n}\n\nexport function insertRow(index, str, input) {\n  const self = this;\n  const newRow = [];\n  const label = (str !== undefined) ? str : null;\n  newRow.push(label);\n\n  if (typeof input === 'function') {\n    each(self.matrix[0], function(label, i) {\n      let col;\n      let cell;\n      if (i > 0) {\n        col = self.selectColumn(i);\n        cell = input.call(self, col, i);\n        if (typeof cell === 'undefined') {\n          cell = null;\n        }\n        newRow.push(cell);\n      }\n    });\n    self.matrix.splice(index, 0, newRow);\n  }\n\n  else if (!input || input instanceof Array) {\n    input = input || [];\n\n    if (input.length <= self.matrix[0].length - 1) {\n      input = input.concat( createNullList( self.matrix[0].length - 1 - input.length ) );\n    }\n    else {\n      each(input, function(value, i){\n        if (self.matrix[0].length -1 < input.length) {\n          appendColumn.call(self, String( self.matrix[0].length ));\n        }\n      });\n    }\n\n    self.matrix.splice(index, 0, newRow.concat(input) );\n  }\n\n  return self;\n}\n","import { each } from '../../utils/each';\n\nexport function filterColumns(fn) {\n  const self = this;\n  const clone = [];\n\n  each(self.matrix, function(row, i) {\n    clone.push([]);\n  });\n\n  each(self.matrix[0], function(col, i){\n    var selectedColumn = self.selectColumn(i);\n    if (i == 0 || fn.call(self, selectedColumn, i)) {\n      each(selectedColumn, function(cell, ri){\n        clone[ri].push(cell);\n      });\n    }\n  });\n\n  self.data(clone);\n  return self;\n}\n\nexport function filterRows(fn) {\n  const self = this;\n  const clone = [];\n\n  each(self.matrix, function(row, i){\n    if (i == 0 || fn.call(self, row, i)) {\n      clone.push(row);\n    }\n  });\n\n  self.data(clone);\n  return self;\n}\n","import { each } from '../../utils/each';\n\nexport function deleteColumn(q) {\n  const self = this;\n  const index = (typeof q === 'number') ? q : this.matrix[0].indexOf(q);\n\n  if (index > -1) {\n    each(self.matrix, function(row, i){\n      self.matrix[i].splice(index, 1);\n    });\n  }\n  return self;\n}\n\nexport function deleteRow(q) {\n  var index = (typeof q === 'number') ? q : this.selectColumn(0).indexOf(q);\n\n  if (index > -1) {\n    this.matrix.splice(index, 1);\n  }\n  return this;\n}\n","import data from './data';\nimport { Dataset } from './dataset';\n// Utils\nimport { each } from './utils/each';\nimport isDateString from './utils/assert-date-string';\nimport { stripHtmlTags } from './utils/strip-html-tags';\nimport { escapeHtml } from './utils/escape-html';\nimport libraries from './libraries';\n\n// Constructor\nexport const Dataviz = function () {\n  if (this instanceof Dataviz === false) {\n    return new Dataviz();\n  }\n\n  this.dataset = new Dataset();\n  this.view = {\n    _prepared: false,\n    _rendered: false,\n    _artifacts: { /* state bin */ },\n\n    chartOptions: {},\n    colors: [\n      '#00bbde', '#fe6672', '#eeb058', '#8a8ad6', '#ff855c', '#00cfbb',\n      '#5a9eed', '#73d483', '#c879bb', '#0099b6', '#d74d58', '#cb9141',\n      '#6b6bb6', '#d86945', '#00aa99', '#4281c9', '#57b566', '#ac5c9e',\n      '#27cceb', '#ff818b', '#f6bf71', '#9b9be1', '#ff9b79', '#26dfcd',\n      '#73aff4', '#87e096', '#d88bcb',\n    ],\n    colorMapping: {},\n    dateFormat: undefined,\n    el: undefined,\n    height: undefined,\n    indexBy: 'timeframe.start',\n    labels: [],\n    labelMapping: {},\n    library: 'default',\n    notes: undefined,\n    sortGroups: undefined,\n    sortIntervals: undefined,\n    stacked: false,\n    theme: 'keen-dataviz',\n    title: undefined,\n    type: undefined,\n    width: undefined,\n  };\n\n  Dataviz.visuals.push(this);\n};\n\nDataviz.libraries = { default: {} };\nif (typeof window !== 'undefined') {\n  Dataviz.libraries.default = libraries(Dataviz);\n}\nDataviz.visuals = [];\n\nDataviz.register = function (name, actions) {\n  Dataviz.libraries[name] = Dataviz.libraries[name] || {};\n  each(actions, function(method, key){\n    Dataviz.libraries[name][key] = method;\n  });\n};\n\nDataviz.find = function(target){\n    if (!arguments.length) return Dataviz.visuals;\n    var el = target.nodeName ? target : document.querySelector(target),\n        match = null;\n    each(Dataviz.visuals, function(visual){\n      if (el == visual.el()){\n        match = visual;\n        return false;\n      }\n    });\n    return match;\n};\n\n\n  // Prototype\n  // ------------\n\nDataviz.prototype.attributes = function(obj){\n    if (!arguments.length) return this.view;\n    var view = this.view;\n    each(obj, function(prop, key){\n      // Handle deprecated property names\n      if (key === 'chartType') {\n        key = 'type';\n      }\n      view[key] = prop;\n    });\n    return this;\n};\n\nDataviz.prototype.call = function(fn){\n    fn.call(this);\n    return this;\n};\n\nDataviz.prototype.chartOptions = function(obj){\n    var self = this;\n    if (!arguments.length) return this.view.chartOptions;\n    if (obj === null) {\n      this.view.chartOptions = {};\n    }\n    else if (typeof obj === 'object') {\n      each(obj, function(value, key){\n        self.view.chartOptions[key] = (value ? value : null);\n      });\n    }\n    return this;\n};\n\nDataviz.prototype.colors = function(arr){\n    if (!arguments.length) return this.view.colors;\n    this.view.colors = (arr instanceof Array ? arr : []);\n    return this;\n};\n\nDataviz.prototype.colorMapping = function(obj){\n    var self = this;\n    if (!arguments.length) return this.view.colorMapping;\n    if (obj === null) {\n      this.view.colorMapping = {};\n    }\n    else if (typeof obj === 'object') {\n      each(obj, function(value, key){\n        self.view.colorMapping[key] = (value ? value : null);\n      });\n    }\n    return this;\n};\n\nDataviz.prototype.data = data;\n\nDataviz.prototype.dateFormat = function(val){\n    if (!arguments.length) return this.view.dateFormat;\n    if (typeof val === 'string' || typeof val === 'function') {\n      this.view.dateFormat = val;\n    }\n    else {\n      this.view.dateFormat = undefined;\n    }\n    return this;\n};\n\nDataviz.prototype.destroy = function(){\n    var library = this.library(),\n        type = this.type(),\n        element = this.el();\n\n    // Call destroy method if present\n  if (Dataviz.libraries[library]\n      && Dataviz.libraries[library][type]){\n        Dataviz.libraries[library][type].destroy.call(this);\n  }\n\n    // Clear rendered artifacts, state bin\n    if (element) {\n      element.innerHTML = '';\n    }\n    this.view._prepared = false;\n    this.view._rendered = false;\n    this.view._artifacts = {};\n    return this;\n};\n\nDataviz.prototype.el = function(target){\n    var self = this;\n    if (!arguments.length) return this.view.el;\n    domReady(function(){\n      if (target && target !== null) {\n        if (target.nodeName) {\n          self.view.el = target;\n        }\n        else if (document.querySelector) {\n          self.view.el = document.querySelector(target);\n        }\n      }\n      else {\n        self.view.el = undefined;\n      }\n    });\n    return this;\n};\n\nDataviz.prototype.height = function(num){\n    if (!arguments.length) return this.view['height'];\n    this.view['height'] = (!isNaN(parseInt(num)) ? parseInt(num) : null);\n    return this;\n};\n\n// IMPORTANT: Must be run before data parsing\nDataviz.prototype.indexBy = function(str){\n    if (!arguments.length) return this.view.indexBy;\n    this.view.indexBy = (str ? String(str) : 'timeframe.start');\n    return this;\n};\n\nDataviz.prototype.labels = function(arr){\n    if (!arguments.length) return this.view.labels;\n    this.view.labels = (arr instanceof Array ? arr : []);\n\n    // Write labels\n    if (this.data()[0].length === 2 && !isDateString(this.data()[1][0])) {\n      this.dataset.updateColumn(0, function(value, index){\n        if (this.view.labels[index-1]) {\n          return stripHtmlTags(String(this.view.labels[index-1]));\n        }\n        return stripHtmlTags(value);\n      }.bind(this));\n    }\n    else {\n      this.dataset.updateRow(0, function(value, index){\n        if (index > 0 && this.view.labels[index-1]) {\n          return stripHtmlTags(String(this.view.labels[index-1]));\n        }\n        return stripHtmlTags(value);\n      }.bind(this));\n    }\n    return this;\n};\n\nDataviz.prototype.labelMapping = function(obj){\n    if (!arguments.length) return this.view.labelMapping;\n    if (obj === null) {\n      this.view.labelMapping = {};\n    }\n    else if (typeof obj === 'object') {\n      each(obj, function(value, key){\n        this.view.labelMapping[key] = (value ? value : null);\n      }.bind(this));\n}\n\n    // Write labels\n    if (this.data()[0].length === 2 && !isDateString(this.data()[1][0])) {\n      this.dataset.updateColumn(0, function(value){\n        if (this.view.labelMapping[value]) {\n          return stripHtmlTags(String(this.view.labelMapping[value]));\n        }\n        return stripHtmlTags(value);\n      }.bind(this));\n    }\n    else {\n      this.dataset.updateRow(0, function(value){\n        if (this.view.labelMapping[value]) {\n          return stripHtmlTags(String(this.view.labelMapping[value]));\n        }\n        return stripHtmlTags(value);\n      }.bind(this));\n    }\n    return this;\n  };\n\nDataviz.prototype.library = function(str){\n    if (!arguments.length) return this.view['library'];\n    this.view['library'] = (str ? String(str) : null);\n    return this;\n};\n\nDataviz.prototype.message = function(){\n    var loader;\n    if (this.view._rendered) {\n      this.destroy();\n    }\n    if (this.el()) {\n      this.el().innerHTML = '';\n      var message = Dataviz.libraries['default'].message;\n      if (message.render) {\n        message.render.apply(this, arguments);\n      }\n    }\n    return this;\n};\n\nDataviz.prototype.notes = function(str){\n    if (!arguments.length) return this.view['notes'];\n    this.view['notes'] = (str ? String(str) : null);\n    return this;\n};\n\nDataviz.prototype.prepare = function(){\n    var self = this, loader;\n\n    if (!this.el()) {\n      throw 'A DOM element is required. Check out the .el() method.';\n      return;\n    }\n\n    domReady(function(){\n      if (self.view._rendered) {\n        self.destroy();\n      }\n      if (self.el()) {\n        self.el().innerHTML = '';\n        loader = Dataviz.libraries['default'].spinner;\n        if (loader.render) {\n          loader.render.call(self);\n        }\n        self.view._prepared = true;\n      }\n    });\n    return this;\n};\n\nDataviz.prototype.render = function(){\n    var self = this,\n        loader = Dataviz.libraries['default'].spinner,\n        library = this.library(),\n        type = this.type(),\n        element = this.el();\n\n    if (!this.el()) {\n      this.message('A DOM element is required. Check out the .el() method.');\n      throw 'A DOM element is required. Check out the .el() method.';\n      return;\n    }\n\n    if (!this.type()) {\n      this.message('A chart type is required. Check out the .type() method.');\n      throw 'A chart type is required. Check out the .type() method.';\n      return;\n    }\n\n    domReady(function(){\n      if (self.view._prepared && loader.destroy) {\n        loader.destroy.apply(self, arguments);\n      }\n      self.el().innerHTML = '';\n\n      if (Dataviz.libraries[library] === 'undefined'){\n        // Error: Unregistered library\n        self.message('Incorrect library');\n        throw 'Incorrect library';\n        return;\n      }\n      else {\n        if (typeof Dataviz.libraries[library][type] === 'undefined') {\n          self.message('Incorrect chart type');\n          throw 'Incorrect chart type';\n          return;\n        }\n        else {\n          buildDomWrapper(self.el(), {\n            notes: self.notes(),\n            theme: self.theme(),\n            title: self['title']()\n          });\n          Dataviz.libraries[library][type].render.call(self);\n          self.view._rendered = true;\n        }\n      }\n    });\n    return this;\n};\n\nDataviz.prototype.sortGroups = function(str){\n    if (!arguments.length) return this.view.sortGroups;\n    this.view.sortGroups = (str ? String(str) : null);\n\n    // Sort groups\n    if (this.view.sortGroups && this.data().length > 1) {\n      if (isDateString(this.data()[1][0])) {\n        this.dataset.sortColumns(this.view.sortGroups, this.dataset.getColumnSum);\n      }\n      else {\n        this.dataset.sortRows(this.view.sortGroups, this.dataset.getRowSum);\n      }\n    }\n    return this;\n};\n\nDataviz.prototype.sortIntervals = function(str){\n    if (!arguments.length) return this.view.sortIntervals;\n    this.view.sortIntervals = (str ? String(str) : null);\n    if (this.view.sortIntervals) {\n      this.dataset.sortRows(this.view.sortIntervals);\n    }\n    return this;\n};\n\nDataviz.prototype.stacked = function(bool){\n    if (!arguments.length) return this.view['stacked'];\n    this.view['stacked'] = bool ? true : false;\n    return this;\n};\n\nDataviz.prototype.theme = function(str){\n    if (!arguments.length) return this.view.theme;\n    this.view.theme = (str ? String(str) : null);\n    return this;\n};\n\nDataviz.prototype.title = function(str){\n    if (!arguments.length) return this.view['title'];\n    this.view['title'] = (str ? String(str) : null);\n    return this;\n};\n\nDataviz.prototype.type = function(str){\n    if (!arguments.length) return this.view['type'];\n    this.view['type'] = (str ? convertChartTypes(str) : null);\n    return this;\n};\n\nDataviz.prototype.update = function(){\n    var library = this.library(),\n        type = this.type(),\n        element = this.el();\n    if (library && type && element && Dataviz.libraries[library][type].update) {\n      Dataviz.libraries[library][type].update.apply(this, arguments);\n    }\n    return this;\n};\n\nDataviz.prototype.width = function(num){\n    if (!arguments.length) return this.view['width'];\n    this.view['width'] = (!isNaN(parseInt(num)) ? parseInt(num) : null);\n    return this;\n};\n\n  // Deprecations\n  Dataviz.prototype.chartType = Dataviz.prototype.type;\n  Dataviz.prototype.error = Dataviz.prototype.message;\n  Dataviz.prototype.parseRawData = Dataviz.prototype.data;\n  Dataviz.prototype.parseRequest = function(){\n    // this.emit('error', 'This method is no longer supported. Use .data() instead: https://github.com/keen/keen-dataviz.js#data');\n    return this;\n  };\n  Dataviz.prototype.initialize = function(){\n    // this.emit('error', 'This method is no longer supported, and can be omitted as it has no impact');\n    return this;\n  };\n\n  // Private\n  // ------------\n\nfunction buildDomWrapper(el, options) {\n  let html = '';\n  html += '<div class=\"' + options.theme + '\">';\n  if (options['title']) {\n    html += '<div class=\"' + options.theme + '-title\">' + escapeHtml(options['title']) + '</div>';\n  }\n  html += '<div class=\"' + options.theme + '-stage\"><div class=\"' + options.theme + '-rendering\"></div></div>';\n  if (options.notes) {\n    html += '<div class=\"' + options.theme + '-notes\">' + escapeHtml(options.notes) + '</div>';\n  }\n  html += '</div>';\n  el.innerHTML = html;\n}\n\nfunction convertChartTypes(str) {\n  const map = {\n    areachart: 'area',\n    barchart: 'horizontal-bar',\n    columnchart: 'bar',\n    linechart: 'line',\n    piechart: 'pie',\n  };\n  return map[str] || str;\n}\n\nfunction testDom(fn) {\n  if (/in/.test(document.readyState)) {\n    setTimeout(function(){\n      testDom(fn);\n    }, 9);\n  } else {\n    fn();\n  }\n}\n\nfunction domReady(fn) {\n  if (typeof document !== 'undefined' || typeof window === 'undefined') {\n    fn();\n    return;\n  }\n  // Firefox 3.5 shim\n  if (document.readyState == null && document.addEventListener) {\n    document.addEventListener('DOMContentLoaded', function DOMContentLoaded() {\n      document.removeEventListener('DOMContentLoaded', DOMContentLoaded, false);\n      document.readyState = 'complete';\n    }, false);\n    document.readyState = 'loading';\n  }\n  testDom(fn);\n}\n\nexport { Dataset } from './dataset';\n\nexport default Dataviz;\n","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","import { Dataviz, Dataset } from './index';\n\nconst env = typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : {};\n\nexport const extendKeenGlobalObject = function(env) {\n  env.Keen = env.Keen || {};\n  env.Keen.Dataset = Dataset;\n  env.Keen.Dataviz = Dataviz;\n};\n\nif (\n     (typeof KEEN_GLOBAL_OBJECT !== 'undefined'\n      && KEEN_GLOBAL_OBJECT)\n     || typeof KEEN_EXPOSE_AS_GLOBAL_OBJECT !== 'undefined'\n   ) {\n  extendKeenGlobalObject(env);\n}\n\nexport { Dataviz, Dataset } from './index';\nexport default Dataviz;\n"],"sourceRoot":""}